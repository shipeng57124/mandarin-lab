<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mandarin Lab Â· Learn Chinese the fun way</title>
  <meta name="description" content="Play mini Chinese games and book a friendly 1:1 lesson." />
  <link rel="icon" href="favicon.ico" />

  <style>
    :root{
      /* æ—¥é—´ï¼ˆé»˜è®¤ï¼‰ */
      --bg: #ffffff;
      --card: #ffffff;
      --text: #0b1324;
      --muted: #57607a;
      --brand: #1463ff;
      --brand-2: #0d49bf;
      --border: #e9edf3;
      --shadow: 0 6px 24px rgba(17,24,39,.08);
      --chip: #eef4ff;
    }
    :root[data-theme="dark"]{
      --bg: #0f172a;
      --card: #121a31;
      --text: #f5f7ff;
      --muted: #97a3b6;
      --brand: #6ca9ff;
      --brand-2: #4a86e6;
      --border: #22304c;
      --shadow: 0 6px 24px rgba(0,0,0,.35);
      --chip: #1c2a4d;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{
      background:var(--bg);
      color:var(--text);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Microsoft YaHei","Noto Sans CJK SC",sans-serif;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:28px 20px 80px}

    /* é¡¶éƒ¨å¯¼èˆª */
    .nav{
      display:flex;align-items:center;justify-content:space-between;
      gap:16px;padding:10px 0 18px;border-bottom:1px solid var(--border);
    }
    .brand{font-weight:800;letter-spacing:.2px}
    .nav-actions{display:flex;gap:10px;align-items:center}
    .btn{
      appearance:none;border:1px solid var(--border);background:#fff;color:#111;
      padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;
      transition:.15s;box-shadow:var(--shadow)
    }
    :root[data-theme="dark"] .btn{background:#0f172a;color:var(--text)}
    .btn:hover{transform:translateY(-1px)}
    .btn-primary{
      background:var(--brand);color:#fff;border-color:transparent;
    }
    .btn-primary:hover{background:var(--brand-2)}
    .chip{
      display:inline-flex;align-items:center;gap:8px;
      background:var(--chip);color:var(--brand);padding:6px 10px;border-radius:999px;
      font-weight:700;font-size:12px
    }

    /* è‹±é›„åŒº */
    .hero{padding:36px 0 22px}
    .hero h1{
      margin:0 0 12px;font-size:clamp(28px,5vw,44px);line-height:1.15;font-weight:900;
      letter-spacing:.3px
    }
    .hero p{margin:0 0 18px;color:var(--muted)}
    .hero-actions{display:flex;gap:12px;flex-wrap:wrap}

    /* å¡ç‰‡ç½‘æ ¼ */
    .grid{display:grid;gap:18px;margin-top:26px}
    @media (min-width:840px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{
      background:var(--card);border:1px solid var(--border);border-radius:18px;
      padding:18px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;
      min-height:220px;
    }
    .card h3{margin:0;font-size:18px}
    .card p{margin:0;color:var(--muted)}
    .card .badge{align-self:flex-start}

    .card-actions{margin-top:auto;display:flex;gap:10px;flex-wrap:wrap}
    .btn-ghost{background:transparent;border-color:var(--border)}

    /* é¡µè„š */
    footer{margin-top:28px;padding-top:22px;border-top:1px solid var(--border);color:var(--muted);font-size:14px}

    /* å¼¹çª— iframe */
    .modal{
      position:fixed;inset:0;background:rgba(0,0,0,.6);
      display:none;align-items:center;justify-content:center;padding:24px;z-index:9999;
    }
    .modal.open{display:flex}
    .modal-card{background:#0000;padding:0;border-radius:16px;max-width:1200px;width:100%;height:80vh;position:relative}
    .modal iframe{
      position:absolute;inset:0;width:100%;height:100%;border:0;border-radius:16px;background:#000;
    }
    .modal .close{
      position:absolute;top:-42px;right:0;background:#fff;color:#111;border:none;border-radius:10px;
      padding:8px 12px;cursor:pointer;box-shadow:var(--shadow);font-weight:700
    }
    :root[data-theme="dark"] .modal .close{background:#0f172a;color:var(--text)}
  </style>
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="nav">
      <div class="brand">Mandarin Lab</div>
      <div class="nav-actions">
        <a class="btn btn-ghost" href="#games">Games</a>
        <a class="btn" href="BOOKING_LINK_HERE" target="_blank" rel="noopener">Book a Lesson</a>
        <button id="themeToggle" class="btn">ğŸŒ Light</button>
      </div>
    </nav>

    <!-- è‹±é›„åŒº -->
    <section class="hero">
      <span class="chip">Learn Chinese the fun way</span>
      <h1>Play a mini game or book a friendly 1:1 lesson.</h1>
      <p>å¿«é€Ÿè¿›å…¥å°æ¸¸æˆç»ƒè¯æ±‡ã€æ‹¼éŸ³ä¸ååº”èƒ½åŠ›ï¼›æˆ–è€…é¢„çº¦ä¸€èŠ‚è½»æ¾æœ‰è¶£çš„ä¸­æ–‡è¯¾ã€‚</p>
      <div class="hero-actions">
        <a class="btn btn-primary" href="#games">Start Playing</a>
        <a class="btn" href="BOOKING_LINK_HERE" target="_blank" rel="noopener">Book a Lesson</a>
      </div>
    </section>

    <!-- æ¸¸æˆåˆ—è¡¨ -->
    <h2 id="games" style="margin:18px 0 6px">Mini Chinese Games</h2>
    <div class="grid">
      <!-- æ¸¸æˆ1ï¼šå¬éŸ³å°„å­—ï¼ˆå·²æœ‰é¡µï¼‰ -->
      <article class="card">
        <span class="badge chip">Recommended</span>
        <h3>Shooting Characters (HSK)</h3>
        <p>Listen to the audio, shoot the correct Chinese character, and earn your score.</p>
        <div class="card-actions">
          <a class="btn btn-primary" target="_blank" rel="noopener"
             href="/mandarin-lab/shooting_characters_web.tonal_game.10.28.html">Open in New Tab</a>
          <button class="btn btn-ghost" data-inline="/mandarin-lab/shooting_characters_web.tonal_game.10.28.html">Try Inline</button>
        </div>
      </article>

      <!-- æ¸¸æˆ2ï¼šSolitaire Demoï¼ˆæ–‡ä»¶å¤¹ /solitaire/ï¼‰ -->
      <article class="card">
        <span class="badge chip">New</span>
        <h3>Solitaire Demo</h3>
        <p>A simple demo game page to test static hosting and routing under GitHub Pages.</p>
        <div class="card-actions">
          <a class="btn btn-primary" target="_blank" rel="noopener"
             href="/mandarin-lab/solitaire/">Open in New Tab</a>
          <button class="btn btn-ghost" data-inline="/mandarin-lab/solitaire/">Try Inline</button>
        </div>
      </article>

      <!-- é¢„ç•™ä½ï¼šä¸‹ä¸ªæ¸¸æˆï¼ˆå ä½ï¼‰ -->
      <article class="card">
        <span class="badge chip">Coming Soon</span>
        <h3>Vocab Memory</h3>
        <p>Match words and meanings for solid recall. (WIP)</p>
        <div class="card-actions">
          <button class="btn" disabled>Buildingâ€¦</button>
        </div>
      </article>
    </div>

    <!-- é¡µè„š -->
    <footer>
      <div>Â© <span id="y"></span> Mandarin Lab Â· Contact: <a href="mailto:your@email.com">your@email.com</a></div>
    </footer>
  </div>

  <!-- å¼¹çª—ï¼šå†…åµŒè¯•ç© -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-card">
      <button class="close" id="closeModal">Close âœ•</button>
      <iframe id="playFrame" src="" title="Inline Game"></iframe>
    </div>
  </div>

  <script>
    // å¹´ä»½
    document.getElementById('y').textContent = new Date().getFullYear();

    // ä¸»é¢˜ï¼šé»˜è®¤æ—¥é—´ï¼ˆlightï¼‰
    const root = document.documentElement;
    const key = 'mlab-theme';
    const saved = localStorage.getItem(key);
    if(!saved){ root.setAttribute('data-theme','light'); }
    else{ root.setAttribute('data-theme', saved); }
    const toggleBtn = document.getElementById('themeToggle');
    function syncLabel(){
      const t = root.getAttribute('data-theme') || 'light';
      toggleBtn.textContent = t === 'dark' ? 'ğŸŒ™ Dark' : 'ğŸŒ Light';
    }
    syncLabel();
    toggleBtn.addEventListener('click', ()=>{
      const next = (root.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem(key, next);
      syncLabel();
    });

    // å†…åµŒè¯•ç©ï¼ˆiframe å¼¹çª—ï¼‰
    const modal = document.getElementById('modal');
    const frame = document.getElementById('playFrame');
    document.querySelectorAll('[data-inline]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const url = btn.getAttribute('data-inline');
        frame.src = url;
        modal.classList.add('open');
        modal.setAttribute('aria-hidden','false');
      });
    });
    document.getElementById('closeModal').addEventListener('click', ()=>{
      frame.src = '';
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    });
    modal.addEventListener('click', (e)=>{
      if(e.target === modal){
        frame.src = '';
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
      }
    });
  </script>
</body>
</html>
