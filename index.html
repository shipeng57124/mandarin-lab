<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mandarin Lab ÔΩú Learn + Play Chinese</title>
  <meta name="description" content="Mandarin Lab ‚Äî Learn Chinese the fun way: play mini web games and book 1:1 lessons.">

  <!-- Calendly embed -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>

  <style>
    :root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#9ca3af;--brand:#22c55e;--radius:16px}
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Arial,"Noto Sans","Microsoft YaHei","PingFang SC",sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    .nav{position:sticky;top:0;backdrop-filter:blur(8px);background:rgba(8,12,24,.6);border-bottom:1px solid #1f2937;z-index:5}
    .nav-in{display:flex;justify-content:space-between;align-items:center;padding:12px 0}
    .pill{display:inline-flex;gap:8px;border:1px solid #1f2937;padding:8px 12px;border-radius:999px;background:#0b1220}
    header{padding:42px 0 22px}
    .hero{display:grid;gap:16px;padding:28px;border-radius:var(--radius);background:linear-gradient(135deg,#0b1220 0%,#121a2e 100%);box-shadow:0 8px 24px rgba(0,0,0,.25)}
    .hero h1{font-size:clamp(28px,4.2vw,40px);margin:0}
    .hero p{margin:6px 0 10px;color:#cbd5e1}
    .btns{display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:2px solid transparent;background:var(--brand);color:#052b14;font-weight:700;border-radius:12px;padding:12px 16px;cursor:pointer}
    .btn.secondary{background:#172554;color:#c7d2fe;border-color:#1e3a8a}
    section{margin:36px 0}
    h2{font-size:26px;margin:0 0 8px}
    .muted{color:var(--muted)}
    .grid{display:grid;gap:16px;grid-template-columns:repeat(12,1fr)}

    /* Âç°Áâá + Áº©Áï•ÂõæÂ∏ÉÂ±Ä */
    .card{
      grid-column:span 12;
      background:var(--card);
      border:1px solid #1f2937;
      border-radius:var(--radius);
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    @media(min-width:720px){.card{grid-column:span 6}}
    @media(min-width:1024px){.card{grid-column:span 4}}

    .card-head{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .card h3{margin:0;font-size:18px}
    .card p{margin:0 0 4px;color:var(--muted)}

    .card-thumb{
      width:100%;
      border-radius:12px;
      object-fit:cover;
      aspect-ratio:16/9;
      box-shadow:0 4px 16px rgba(0,0,0,.35);
    }

    .tag{
      display:inline-block;
      padding:4px 8px;
      border-radius:999px;
      background:#0b5;
      color:#021;
      font-weight:700;
      font-size:12px;
      align-self:flex-start;
      margin-bottom:2px;
    }
    .tag.muted{
      background:#4b5563;
      color:#e5e7eb;
    }

    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:4px}

    .frame{position:relative;width:100%;padding-top:56.25%;border-radius:12px;overflow:hidden;border:1px solid #1f2937;background:#06080f}
    iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .anchor{scroll-margin-top:100px}
    footer{margin:40px 0 10px;color:#9aa3b2;font-size:14px;text-align:center}

    /* Calendly ËÆ¢ËØæÂç°Áâá‰∏ìÁî®Ê†∑Âºè */
    .booking-card{
      grid-column:span 12 !important;
      background:radial-gradient(circle at top left,#1f2937 0%,#020617 55%,#020617 100%);
      border:1px solid rgba(34,197,94,0.4);
      box-shadow:0 10px 30px rgba(0,0,0,.6);
      position:relative;
      overflow:hidden;
    }
    .booking-card::before{
      content:"";
      position:absolute;
      inset:-40%;
      background:conic-gradient(from 140deg,#22c55e33,#22c55e00,#22c55e33);
      opacity:.35;
      pointer-events:none;
      mix-blend-mode:screen;
    }
    .booking-inner{
      position:relative;
      display:flex;
      flex-direction:column;
      gap:10px;
      z-index:1;
    }
    @media(min-width:720px){
      .booking-inner{
        flex-direction:row;
        align-items:center;
        justify-content:space-between;
      }
    }
    .booking-pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(15,118,110,0.9);
      color:#ccfbf1;
      font-size:12px;
      margin-bottom:4px;
    }
    .booking-pill span{
      font-size:14px;
    }
    .booking-title{
      font-size:20px;
      margin:0 0 4px;
    }
    .booking-sub{
      margin:0;
      color:#e5e7eb;
      font-size:14px;
    }
    .booking-note{
      margin:4px 0 0;
      font-size:13px;
      color:#9ca3af;
    }
  </style>
</head>
<body>
  <div class="nav">
    <div class="wrap nav-in">
      <strong>Mandarin Lab</strong>
      <div class="links">
        <a class="pill" href="#games">Games</a>
        <a class="pill" href="#booking">Book a Lesson</a>
        <a class="pill" href="#contact">Contact</a>
      </div>
    </div>
  </div>

  <header class="wrap">
    <div class="hero">
      <h1>Learn Chinese the fun way.</h1>
      <p>Play a mini game or book a friendly 1:1 lesson today.</p>
      <div class="btns">
        <a class="btn" href="#games">‚ñ∂ Start Playing</a>
        <a class="btn secondary" href="#booking">üìÖ Book a Lesson</a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- GAMES -->
    <section id="games" class="anchor">
      <h2>Mini Chinese Games</h2>
      <p class="muted">Grow your vocab, pinyin skills, and reaction time‚Äîwhile having fun.</p>

      <!-- ËÆ¢ËØæÂç°ÁâáÔºöÊîæÂú®Ê∏∏ÊàèÂç°Áâá‰∏äÊñπ -->
      <div class="grid" style="margin-top:14px;">
        <article class="card booking-card">
          <div class="booking-inner">
            <div>
              <div class="booking-pill">
                <span>üéì</span><span>1:1 Chinese Lessons</span>
              </div>
              <h3 class="booking-title">Book a live lesson with Patrick</h3>
              <p class="booking-sub">
                Book a 1:1 online Chinese lesson: perfect for absolute beginners, speaking improvement, or customized classes for kids.
              </p>
              <p class="booking-note">
                Choose a time that works for you ‚Äî Calendly will automatically add it to your calendar and send you the meeting link.
              </p>
            </div>
            <div class="actions">
              <a class="btn"
                 href="#"
                 onclick="Calendly.initPopupWidget({url: 'https://calendly.com/patrickct'}); return false;">
                üìÖ Book a Lesson
              </a>
            </div>
          </div>
        </article>
      </div>

      <!-- Ê∏∏ÊàèÂç°Áâá -->
      <div class="grid" style="margin-top:14px;">
        <!-- Game 1: Shooting Characters -->
        <article class="card">
          <div class="card-head">
            <span class="tag">Recommended</span>
            <h3>Shooting Characters (HSK)</h3>
          </div>
          <img src="./thumbnails/shooting.png"
               alt="Shooting Characters game thumbnail"
               class="card-thumb">
          <p>Listen to the audio, shoot the correct characters, and earn your score.</p>
          <div class="actions">
            <a class="btn" target="_blank" rel="noopener"
               href="https://shipeng57124.github.io/mandarin-lab/shooting_characters_web.tonal_game.10.28.html">
              Open in New Tab
            </a>
            <a class="btn secondary" href="#shooting-inline">Try Inline</a>
          </div>
        </article>

        <!-- Game 2: Solitaire -->
        <article class="card">
          <div class="card-head">
            <span class="tag">New</span>
            <h3>Chinese Solitaire</h3>
          </div>
          <img src="./thumbnails/solitaire.png"
               alt="Chinese Solitaire game thumbnail"
               class="card-thumb">
          <p>A classic solitaire game with your custom Chinese deck. Best experienced in full screen.</p>
          <div class="actions">
            <a class="btn" target="_blank" rel="noopener" href="solitaire/index.html">
              Open in New Tab
            </a>
          </div>
        </article>

        <!-- Game 3: Coming soon -->
        <article class="card">
          <div class="card-head">
            <span class="tag muted">Coming Soon</span>
            <h3>Pinyin Shooter</h3>
          </div>
          <img src="./thumbnails/pinyin.png"
               alt="Pinyin Shooter coming soon thumbnail"
               class="card-thumb">
          <p>Listen and shoot the matching syllable.</p>
          <div class="actions">
            <button class="btn secondary" disabled>Coming Soon</button>
          </div>
        </article>
      </div>

      <!-- Inline play area for Shooting Characters -->
      <div id="shooting-inline" style="margin-top:16px;">
        <div class="frame">
          <iframe id="shootingFrame" src="about:blank"
                  allow="autoplay; gamepad *; fullscreen"
                  title="Shooting Characters (Inline)"></iframe>
        </div>
        <p style="text-align:center;color:#9ca3af;margin-top:8px;">
          Trouble loading inline?
          <a target="_blank" rel="noopener"
             href="https://shipeng57124.github.io/mandarin-lab/shooting_characters_web.tonal_game.10.28.html">
            Open the full game
          </a>.
        </p>
      </div>
    </section>

    <!-- BOOKING -->
    <section id="booking" class="anchor">
      <h2>Level up faster‚Äîtogether.</h2>
      <p class="muted">1:1 speaking practice, kids‚Äô Chinese, and solid foundations. Start with a friendly trial lesson.</p>
      <div class="btns">
        <a class="btn"
           href="#"
           onclick="Calendly.initPopupWidget({url: 'https://calendly.com/patrickct'}); return false;">
          üìÖ Book via Calendly
        </a>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="anchor">
      <h2>Contact</h2>
      <div class="grid" style="margin-top:12px;">
        <article class="card" style="grid-column:span 12;">
          <div class="card-head">
            <h3>How to reach me</h3>
          </div>
          <p class="muted">Replace with your actual info:</p>
          <p>
            üìß Email: <a href="mailto:your@email.com">your@email.com</a><br/>
            ‚ñ∂Ô∏è YouTube: <a href="https://youtube.com/@yourchannel" target="_blank" rel="noopener">@yourchannel</a><br/>
            üí¨ WeChat: Add me and say ‚ÄúChinese learner‚Äù.
          </p>
        </article>
      </div>
    </section>
  </main>

  <footer>
    ¬© <script>document.write(new Date().getFullYear())</script> Mandarin Lab ¬∑ Learn + Play Chinese
  </footer>

  <!-- Inline loader + simple audio-unlock broadcast for Shooting Characters -->
  <script>
    const SHOOTING_URL =
      "https://shipeng57124.github.io/mandarin-lab/shooting_characters_web.tonal_game.10.28.html";
    const shootingFrame = document.getElementById('shootingFrame');

    // load when clicking "Try Inline"
    document.querySelector('a[href=\"#shooting-inline\"]').addEventListener('click', () => {
      setTimeout(() => {
        if (shootingFrame && !shootingFrame.src) shootingFrame.src = SHOOTING_URL;
      }, 0);
    });

    // try to unlock audio in child (if it listens)
    function postUnlock() {
      try {
        shootingFrame.contentWindow && shootingFrame.contentWindow.postMessage('UNLOCK_AUDIO', '*');
      } catch (e) {}
    }

    function firstGesture() {
      if (shootingFrame.src) postUnlock();
      window.removeEventListener('pointerdown', firstGesture);
      window.removeEventListener('keydown', firstGesture);
    }

    window.addEventListener('pointerdown', firstGesture);
    window.addEventListener('keydown', firstGesture);
  </script>
</body>
</html>
